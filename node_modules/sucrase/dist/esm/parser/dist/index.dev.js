"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parse = parse;
exports.File = void 0;

var _base = require("./traverser/base");

var _index = require("./traverser/index");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var File = function File(tokens, scopes) {
  _classCallCheck(this, File);

  this.tokens = tokens;
  this.scopes = scopes;
};

exports.File = File;

function parse(input, isJSXEnabled, isTypeScriptEnabled, isFlowEnabled) {
  if (isFlowEnabled && isTypeScriptEnabled) {
    throw new Error("Cannot combine flow and typescript plugins.");
  }

  (0, _base.initParser)(input, isJSXEnabled, isTypeScriptEnabled, isFlowEnabled);
  var result = (0, _index.parseFile)();

  if (_base.state.error) {
    throw (0, _base.augmentError)(_base.state.error);
  }

  return result;
}