"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mapIncludes = mapIncludes;

var _identity = require("../nodes/identity.js");

function mapIncludes(ctx, items, search) {
  var uniqueKeys = ctx.options.uniqueKeys;
  if (uniqueKeys === false) return false;
  var isEqual = typeof uniqueKeys === 'function' ? uniqueKeys : function (a, b) {
    return a === b || (0, _identity.isScalar)(a) && (0, _identity.isScalar)(b) && a.value === b.value && !(a.value === '<<' && ctx.schema.merge);
  };
  return items.some(function (pair) {
    return isEqual(pair.key, search);
  });
}